{% extends "base.html"%}

{% block title %}{{title}}{% endblock %}

{% block head %}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap" rel="stylesheet">
    <link href="{{url_for('static', filename='css/user_style.css')}}" rel="stylesheet"> 

{% endblock %}

{% block modal %}   

    <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Remover {{object['name']}}?</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <p>Para confirmar a ação digite o CPF abaixo.</p>
                    <form id="modal-form" action=" {{ url_for('remove.remove', path = path, id = object['id']) }}" method="POST" class="form">
                        <div class="input-group mb-3">
                            <input type="text" name="cpf" class="form-control input_user" value="" placeholder="CPF">
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                            <button type="submit" class="btn btn-danger" value="Submit">Remover</button>
                        </div>
                    </form> 
                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% block content%}

    <div class="">
        <div class="row mb-3 mt-3 text-center">
            <div class="col"><h1>{{title}} {{id}}</h1></div>
        </div>
            <div class= "container">
                <div class = "msm-auto row row-lg-2 justify-content-center">
                    {% if object['confiability'] == 'Bronze' %}
                        <div class = "col col-6 bronze-card-bg card-shadow animation text-shadow rounded rounded-lg }}" style="font-family: 'Ubuntu', sans-serif;">
                    {% elif object['confiability'] == 'Prata' %}
                        <div class = "col col-6 silver-card-bg card-shadow animation text-secondary rounded rounded-lg }}" style="font-family: 'Ubuntu', sans-serif;">
                    {% elif object['confiability'] == 'Ouro' %}
                        <div class = "col col-6 gold-card-bg card-shadow animation rounded rounded-lg }}" style="font-family: 'Ubuntu', sans-serif;">
                    {% endif %}
                            <div class="row">
                                <div class="col">
                                    <h2 class="mt-3"><b>{{object['confiability']|upper}}</b></h2>
                                </div>
                                <div class="col text-end">
                                    <img src="{{url_for('static', filename='img/logo2.png')}}" class="w-50 ms-auto">
                                </div>
                            </div>
                            <div class="row text-center"> 
                                <h4>{{object['name']}}</h4> <br>
                                <h5 class="mt-m1">{{object['cpf']}}</h5> <br>
                            </div>
                            <div class="row" >
                                {% if object['number'] == 0 %}
                                    {% set x = object.__setitem__("number", " ") %}
                                {% endif %}
                                <p>
                                    {{object['type']|upper}} {{object['logradouro']|upper}} {{object['number']}} <br>
                                    {{object['district']|upper}} - {{object['city']|upper}} - {{object['state']|upper}} - {{object['zip_code']|upper}} <br>
                                    {{object['phone']}} <br>
                                    {{object['email']}}
                                </p>
                            </div>
                            <div class="row text-end mt-m5">
                                <p>2 EMPRÉSTIMOS ATIVOS</p>
                            </div>
                        </div>
                </div>
                <div class = "col text-center mt-4 mb-3">
                    <a href=" {{ url_for('edit.edit', path = path, id = object['id']) }}"><button class="btn btn-warning">Editar</button></a>
                    <button id="remove-button" type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal">Remover</button>
                    {% if invalid %}
                            <p class="text-danger mt-2">Informações inválidas!</p>
                    {% endif %}
                </div>
            </div>
        </div>
        </div>
    </div>

{% endblock %}